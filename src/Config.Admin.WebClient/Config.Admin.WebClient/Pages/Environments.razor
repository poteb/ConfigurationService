@page "/environments"

<ErrorBoundary>
    <ChildContent>
        <MudTable Items="@List" Dense="true" CanCancelEdit="true" Style="Width: 400px">
            <ToolBarContent>
                <MudGrid>
                    <MudItem xs="6">
                        <MudText Typo="Typo.h6" Style="line-height: 48px">Environments</MudText>
                    </MudItem>
                    <MudItem xs="6">
                        <MudGrid Justify="Justify.FlexEnd" Style="text-align: right">
                            <MudItem xs="12">
                                <MudIconButton Icon="@Icons.Filled.Save" Color="Color.Info" OnClick="Save" Title="Save changes">Save</MudIconButton>
                            </MudItem>
                        </MudGrid>
                    </MudItem>
                </MudGrid>
            </ToolBarContent>
            <ColGroup>
                <col style="width: 400px;" />
                <col style="width: 30px;" />
            </ColGroup>
            <RowTemplate>
                <MudTd DataLabel="Name">@context.Name</MudTd>
                <MudTd DataLabel="Delete" Style="padding-right: 0"><MudIconButton Icon="@Icons.Filled.Delete" Title="Delete item" OnClick="() => RemoveItem(context.Id)"></MudIconButton></MudTd>
            </RowTemplate>
            <RowEditingTemplate>
                <MudTd DataLabel="Name">
                    <MudTextField @bind-Value="@context.Name"></MudTextField>
                </MudTd>
            </RowEditingTemplate>
            <FooterContent>
                <MudIconButton Icon="@Icons.Filled.Add" Title="Add item" OnClick="AddItem" Color="Color.Success"></MudIconButton>
            </FooterContent>
        </MudTable>
    </ChildContent>
    <ErrorContent>
        An error occurred
    </ErrorContent>
</ErrorBoundary>